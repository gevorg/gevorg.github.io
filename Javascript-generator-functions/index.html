<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="p:domain_verify" content="a748b59472c683b6712342982728ecd2"/>

    
    <title>Javascript generator functions - Gevorg Harutyunyan</title>
    <meta name="keywords" content="javascript, node.js, Gevorg, Harutuynyan" />
    <meta name="description" content="Javascript generator functions"/>
    

    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"/>

    <link href="/css/prism.css" rel="stylesheet" >
    <link href="/css/styles.css" rel="stylesheet" >

    <script type='text/javascript' data-cfasync='false' src='//dsms0mj1bbhn4.cloudfront.net/assets/pub/shareaholic.js' data-shr-siteid='01757f1e456dfc4e4ffc292969c6c56e' async='async'></script>
</head>
<body>
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-48892246-1', 'gevorg.me');
    ga('send', 'pageview');

</script>
<div class="content">
    <a href="/" class="main-header">
        <h1>About many things</h1>
    </a>
    <section class="post">
    <header>
        <h1>Javascript generator functions</h1>
    </header>
    <div class="time-div">
        <time>
            16 May 2016
        </time>
    </div>
    <article>
        <p>I just discovered for myself relatively new thing and that is generator function in javascript.</p>

<pre><code class="language-javascript">function* name([param[, param[, ... param]]]) {
   // statements
}</code></pre>

<p>In this post I will share few nice usages and many good things about them.
<!--more--></p>

<h2 id="simple-sample">Simple sample</h2>

<p>There are few things that you must know about generator functions</p>

<ul>
  <li>These are functions that you can pause and resume</li>
  <li><code class="highlighter-rouge">function*</code> is used to declare one</li>
  <li><code class="highlighter-rouge">yield</code> is used to pause execution</li>
  <li><code class="highlighter-rouge">next()</code> function is used to resume execution</li>
</ul>

<pre><code class="language-javascript">function* idMaker(){
  var index = 0;
  while(index &lt; 3)
    yield index++;
}

var gen = idMaker();

console.log(gen.next().value); // 0
console.log(gen.next().value); // 1
console.log(gen.next().value); // 2
console.log(gen.next().value); // undefined</code></pre>

<p>In sample above <code class="highlighter-rouge">yield</code> is used to pause execution and return current value of <code class="highlighter-rouge">index</code>.
Return value format for <code class="highlighter-rouge">next()</code> is following</p>

<pre><code class="language-json">{ value: 'some value passed using yield', done: [true | false] }</code></pre>

<h2 id="sample-with-input">Sample with input</h2>

<p>You can pass data to current execution step using <code class="highlighter-rouge">next()</code> function.</p>

<pre><code class="language-javascript">function *foo(x) {
   var y = 2 * (yield (x + 1));
   var z = yield (y / 3);
   return (x + y + z);
}

var it = foo( 5 );

// note: not sending anything into `next()` here
console.log( it.next() );       // { value:6, done:false }
console.log( it.next( 12 ) );   // { value:8, done:false }
console.log( it.next( 13 ) );   // { value:42, done:true }
</code></pre>

<h2 id="jumping-from-one-generator-to-another">Jumping from one generator to another</h2>

<p>You can jump from one generator to another using <code class="highlighter-rouge">yield*</code> inside generator</p>

<pre><code class="language-javascript">function* anotherGenerator(i) {
  yield i + 1;
  yield i + 2;
  yield i + 3;
}

function* generator(i){
  yield i;
  yield* anotherGenerator(i);
  yield i + 10;
}

var gen = generator(10);

console.log(gen.next().value); // 10
console.log(gen.next().value); // 11
console.log(gen.next().value); // 12
console.log(gen.next().value); // 13
console.log(gen.next().value); // 20
</code></pre>

<h2 id="why-should-you-use-generator-functions">Why should you use generator functions?</h2>

<p>Every developer familiar with async model that <a href="https://nodejs.org/">node.js</a> uses, knows that async
code becomes long list of nested callback functions. Letâ€™s look following sample</p>

<pre><code class="language-javascript">...
login(username, password, function(user) {
    loadPosts(user.id, function(posts) {
        ...
    });
});
...
</code></pre>

<p>using generator functions you can transform your nested callback functions into nice/readable statements</p>

<pre><code class="language-javascript">...
var user = yield login(username, password);
var posts = yield loadPosts(user.id);
...
</code></pre>

<p>You can check <a href="https://github.com/tj/co">co</a> module for more information.</p>

<h2 id="related-links">Related links</h2>
<ul>
  <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function*">function* - MDN</a></li>
  <li><a href="https://davidwalsh.name/es6-generators">ES6 Generators</a></li>
  <li><a href="https://github.com/tj/co">The ultimate generator based flow-control goodness</a></li>
</ul>

    </article>
    <div class="tags">
        
        <span>
            <a href="/tag/javascript">#javascript</a>
        </span>
        
        <span>
            <a href="/tag/node.js">#node.js</a>
        </span>
        
    </div>
    
    <div id="disqus_thread"></div>
    <script>
         var disqus_config = function () {
             this.page.url = "http://gevorg.me/Javascript-generator-functions/";
             this.page.identifier = "Javascript generator functions";
         };

        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');

            s.src = '//gevorgha.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    
</section>

    <nav>
        <ul>
            <li><a href="/feed.xml" target="_blank">feed</a></li>
            <li><a href="/GevorgHarutyunyanCV.pdf" target="_blank">cv</a></li>
        </ul>
    </nav>
</div>
<footer>
    It is transformed by <a target="_blank" href="https://github.com/jekyll/jekyll">Jekyll</a>
    into a static site before I push <a target="_blank" href="https://github.com/gevorg/gevorg.github.io">this repository</a> to GitHub.
</footer>

<script src="/js/prism.js"></script>
</body>
</html>
